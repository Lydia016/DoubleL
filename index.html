<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>多功能计算器</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <main class="main-container">
        <!--左侧基础计算器-->
        <div class="container left-container">
            <!-- 基础加减乘除计算器 -->
            <div class="calculator">
                <h3>基础计算器</h3>
                <input type="text" id="calculator-screen" disabled>
                <div class="buttons">
                <button onclick="clearScreen()">C</button>
                <button onclick="deleteFromScreen()">←</button>
                <button onclick="appendToScreen('%')">%</button>
                <button onclick="appendToScreen('+')">+</button>
                <button onclick="appendToScreen('7')">7</button>
                <button onclick="appendToScreen('8')">8</button>
                <button onclick="appendToScreen('9')">9</button>
                <button onclick="appendToScreen('-')">-</button>
                <button onclick="appendToScreen('4')">4</button>
                <button onclick="appendToScreen('5')">5</button>
                <button onclick="appendToScreen('6')">6</button>
                <button onclick="appendToScreen('*')">*</button>
                <button onclick="appendToScreen('1')">1</button>
                <button onclick="appendToScreen('2')">2</button>
                <button onclick="appendToScreen('3')">3</button>
                <button onclick="appendToScreen('/')">/</button>
                <button onclick="appendToScreen('.')">.</button>
                <button onclick="appendToScreen('0')">0</button>
                <button id="bracket-button">(/)</button>
                <div id="bracket-popup" class="popup">
                    <button onclick="appendToScreen('(')">(</button>
                    <button onclick="appendToScreen(')')"> )</button>
                </div>
                <button onclick="calculateResult()">=</button>
                <br>
                </div>
            </div>
        </div>
        <!--右侧功能计算器-->
        <div class="container right-container">
            <div class="circle-container">
                <img src="https://marketplace.canva.cn/d5B34/MACKkEd5B34/2/tl/canva-MACKkEd5B34.png" alt="Center Image">
                <div class="card" onclick="openCalculator('DAC计算器')">DAC计算器</div>
                <div class="card" onclick="openCalculator('贷款还款计算器')">贷款还款计算器</div>
                <div class="card" onclick="openCalculator('税收计算器')">税收计算器</div>
                <div class="card" onclick="openCalculator('预算管理计算器')">预算管理计算器</div>
                <div class="card" onclick="openCalculator('公积金计算器')">公积金计算器</div>
                <div class="card" onclick="openCalculator('退休年龄计算器')">退休年龄计算器</div>
                <div class="card" onclick="openCalculator('工资计算器')">工资计算器</div>
                <div class="card" onclick="openCalculator('货币换算器')">货币换算器</div>
                <div class="card" onclick="openCalculator('投资计算器')">投资计算器</div>
                <div class="card" onclick="openCalculator('社保计算器')">社保计算器</div>
            </div>
        </div>
    </main>

    <!-- 模态窗口，当点击某个额外功能时显示相应的计算器 -->
    <div class="modal" id="calculator-modal" style="display:none;">
        <div class="modal-content">
            <!-- 关闭模态窗口的按钮 -->
            <span class="close" onclick="closeModal()">&times;</span>
            <!-- 具体计算器的内容将动态加载到这里 -->
            <div id="calculator-body">
                <!-- 货币换算器 -->
                <div id="currency-converter-content" style="display: none;">
                    <h3>货币换算器</h3>
                    <input type="number" id="amount" placeholder="输入金额" class="inputCurrency">
                    <select id="fromCurrency" class="selectBox">
                        <option value=" " disabled selected>From</option>
                        <option value="CNY">CNY</option>
                        <option value="HKD">HKD</option>
                        <option value="USD">USD</option>
                        <option value="EUR">EUR</option>
                        <option value="GBP">GBP</option>
                        <option value="KRW">KRW</option>
                    </select>
                    <select id="toCurrency" class="selectBox">
                        <option value=" " disabled selected>To</option>
                        <option value="CNY">CNY</option>
                        <option value="HKD">HKD</option>
                        <option value="USD">USD</option>
                        <option value="EUR">EUR</option>
                        <option value="GBP">GBP</option>
                        <option value="KRW">KRW</option>
                    </select>
                    <button class="convert-button" onclick="convertCurrency()">convert</button>
                    <p id="conversionResult"></p>
                </div>
                <!--工资计算器-->
                <div id="salary-calculater-content" style="display:none;">
                    <h3>工资计算器</h3>
                    <input type="number" id="basicSalary" class="inputSalary" placeholder="固定工资（元）">
                    <div class="input-group">
                        <input type="number" id="extraSalary_d" class="inputSalary" placeholder="每笔放贷额（万）">
                        <button class="save" onclick="saveExtraSalary_d()">保存</button>
                    </div>
                    <div class="input-group">
                        <input type="number" id="extraSalary_c1" class="inputSalary" placeholder="每次定期揽储额（万）">
                        <button class="save" onclick="saveExtraSalary_c1()">保存</button><!--定期-->
                    </div>
                    <div class="input-group">
                        <input type="number" id="extraSalary_c2" class="inputSalary" placeholder="每次活期揽储额（万）">
                        <button class="save" onclick="saveExtraSalary_c2()">保存</button><!--活期-->
                    </div>
                    <button class="calculate-button" onclick="calculateSalary()">计算总工资</button>
                    <p id="salaryResult"></p>
                </div>
                <!--退休年龄计算器-->
                <div id="retirement-age-calculater-content" style="display:none">
                    <h3>退休年龄计算器</h3>
                    <input type="text" id="birthYear" class="inputAge" placeholder="出生年份">
                    <input type="text" id="birthMonth" class="inputAge" placeholder="出生月份">
                    <select id="type" class="typeBox" aria-placeholder="性别及人员类型">
                        <option value=" " disabled selected>性别及员工类型</option>
                        <option value="a">男职工</option>
                        <option value="b">原定法定退休年龄55周岁女职工</option>
                        <option value="c">原定法定退休年龄50周岁女职工</option>
                    </select>
                    <button class="calculateAge-button" onclick="calculateAge()">计算退休年龄</button>
                    <button class="reset-button" onclick="resetAge()">重置</button>
                    <p id="ageResult"></p>
                </div>
                <!--投资计算器-->
                <div id="investment-calculater-content" style="display : none;">
                    <h3>投资计算器</h3>
                    <input type="number" id="rate" class="inputRate" placeholder="折现率">
                    <input type="number" id="nper" class="inputRate" placeholder="请输入期数">
                    <input type="number" id="initialCashFlow" class="inputRate" placeholder="请输入初始现金流">
                    <div class="cashFlow-group">
                        <input type="number" id="cashFlowInput" class="inputRate" placeholder="请输入第1期现金流">
                        <button id="saveButton" class="saveButton" onclick="saveCashFlow()">保存</button>
                    </div>
                    <div id="NPVResult"></div>
                </div>
                <!--税收计算器-->
                <div id="tax-calculater-content" style="display : none;">
                    <h3>税收计算器</h3>
                    <input type="number" id="income" class="input" placeholder="请输入月工资应交税金额">
                    <button id="tax-button" class="Basic-button" onclick="calculateTax()">计算应缴税收</button>
                    <div id="taxResult" class="Result"></div>
                </div>
                <!--DAC计算器-->
                <div id="DAC-calculater-content" style="display : none;">
                    <h3>DAC计算器</h3>
                    <input type="number" id="monthly-investment" class="input" placeholder="每月投资金额 (元)">
                    <input type="number" id="investment-period" class="input" placeholder="投资期限 (月)">
                    <input type="number" id="annual-return-rate" class="input" placeholder="预期年化收益率 (%)">
                    <button id="DAC-button" class="Basic-button" onclick="calculateDAC()">计算累计金额</button>
                    <div id="DACResult" class="Result"></div>
                </div>
                <!--贷款还款计算器-->
                <div id="loan-calculater-content" style="display : none;">
                    <h3>贷款还款计算器</h3>
                    <input type="number" id="loanAmount" class="input" placeholder="贷款本金 (元)">
                    <input type="number" id="annualInterestRate" class="input" placeholder="年利率 (%)">
                    <input type="number" id="loanTermInYears" class="input" placeholder="贷款期限 (年)">
                    <input type="number" id="monthlyPayment" class="input" placeholder="每月还款额">
                    <input type="number" id="prepaymentAmount" class="input" placeholder="提前还款金额 (元)">
                    <input type="number" id="monthsPaid" class="input" placeholder="已还款月数">
                    <button id="loan-button" class="Basic-button" onclick="calculateloan()">计算剩余贷款金额</button>
                    <p id="loanResult" class="Result"></p>
                </div>
                <!--预算管理计算器-->
                <div id="budget-calculater-content" style="display : none;">
                    <h3>预算管理计算器</h3>
                    <input type="number" id="salaryIncome" class="input" placeholder="工资 (元)">
                    <input type="number" id="otherIncome" class="input" placeholder="其他收入 (元)">
                    <input type="number" id="fixedExpenses" class="input" placeholder="固定支出（元）">
                    <input type="number" id="variableExpenses" class="input" placeholder="可变支出（元）">
                    <input type="number" id="savingsTarget" class="input" placeholder="储蓄目标（元）">
                    <button id="Budget-button" class="Basic-button" onclick="calculateBudget()">预算管理计算</button>
                    <p id="budgetResult" class="Result"></p>
                </div>
                <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.17.0/xlsx.full.min.js"></script>
                <!--社保计算器-->
                <div id="insurance-calculater-content" style="display : none;">
                    <h3>社保计算器</h3>
                    <select id="city" onchange="updateInsuranceInfo()">
                        <option value=" " disabled selected>选择城市</option>
                        <option value="北京">北京</option>
                        <option value="上海">上海</option>
                        <option value="广州">广州</option>
                        <option value="深圳">深圳</option>
                    </select>
                    <input type="number" id="salary" placeholder="输入你的工资" />
                    <p id="baseRangeInfo" style="color: rgb(195, 192, 192); font-size: 15px;"></p>
                    <button onclick="calculateInsurance()">计算社保</button>
                    <div id="insuranceResult"></div>
                </div>
                <!--住房公积金计算器-->
                <div id="housingFund-calculater-content" style="display : none;">
                    <h3>住房公积金计算器</h3>
                    <select id="housingCity" onchange="updateHousingFundInfo()">
                        <option value=" " disabled selected>选择城市</option>
                        <option value="北京">北京</option>
                        <option value="上海">上海</option>
                        <option value="广州">广州</option>
                        <option value="深圳">深圳</option>
                    </select>
                    <input type="number" id="housingSalary" placeholder="输入你的工资" />
                    <p id="baseRangeInfo" style="color: rgb(195, 192, 192); font-size: 14px;"></p>
                    <label for="rateSelection">选择缴费比例：</label>
                    <select id="rateSelection"></select>
                    <button onclick="calculateHousingFund()">计算公积金</button>
                    <div id="housingResult"></div>
                </div>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
    </main>
</body>

</html>