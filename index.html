<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simple Calculator</title>
    <style>
        /* 设置整个页面的样式 */
        body {
            font-family: Arial, sans-serif; /* 使用 Arial 字体 */
            text-align: center; /* 文本居中 */
            padding: 50px; /* 页面内容四周留白 50 像素 */
            background-color: #f0f0f0; /* 设置背景颜色为浅灰色 */
        }

        /* 设置计算器的样式 */
        #calculator {
            background-color: white; /* 背景颜色为白色 */
            padding: 20px; /* 内边距为 20 像素 */
            border-radius: 10px; /* 边框圆角为 10 像素 */
            box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1); /* 添加阴影效果 */
            display: inline-block; /* 让计算器整体为行内块，保持其宽度 */
        }

        /* 设置显示器输入框的样式 */
        #calculator input {
            width: 200px; /* 输入框宽度 */
            height: 40px; /* 输入框高度 */
            font-size: 24px; /* 输入框文字大小 */
            margin-bottom: 10px; /* 底部外边距为 10 像素 */
            text-align: right; /* 数字在输入框中右对齐 */
        }

        /* 设置按钮的样式 */
        #calculator button {
            width: 50px; /* 按钮宽度 */
            height: 50px; /* 按钮高度 */
            font-size: 24px; /* 按钮文字大小 */
            margin: 5px; /* 四周外边距 5 像素 */
        }
    </style>
</head>
<body>

    <!-- 页面标题 -->
    <h1>Simple Calculator</h1>

    <!-- 计算器的布局 -->
    <div id="calculator">
        <!-- 显示结果的输入框，禁止用户直接输入，只用于显示 -->
        <input type="text" id="display" disabled>
        <br>

        <!-- 计算器的按钮，点击不同按钮调用不同的函数 -->
        <button onclick="clearDisplay()">C</button> <!-- 清除显示器的按钮 -->
        <button onclick="appendNumber('1')">1</button> <!-- 添加数字1 -->
        <button onclick="appendNumber('2')">2</button> <!-- 添加数字2 -->
        <button onclick="appendNumber('3')">3</button> <!-- 添加数字3 -->
        <button onclick="setOperation('+')">+</button> <!-- 设置加法操作 -->
        <br>
        <button onclick="appendNumber('4')">4</button> <!-- 添加数字4 -->
        <button onclick="appendNumber('5')">5</button> <!-- 添加数字5 -->
        <button onclick="appendNumber('6')">6</button> <!-- 添加数字6 -->
        <button onclick="setOperation('-')">-</button> <!-- 设置减法操作 -->
        <br>
        <button onclick="appendNumber('7')">7</button> <!-- 添加数字7 -->
        <button onclick="appendNumber('8')">8</button> <!-- 添加数字8 -->
        <button onclick="appendNumber('9')">9</button> <!-- 添加数字9 -->
        <button onclick="setOperation('*')">*</button> <!-- 设置乘法操作 -->
        <br>
        <button onclick="appendNumber('0')">0</button> <!-- 添加数字0 -->
        <button onclick="calculate()">=</button> <!-- 计算结果 -->
        <button onclick="setOperation('/')">/</button> <!-- 设置除法操作 -->
    </div>

    <!-- JavaScript 用于计算器功能的实现 -->
    <script>
        let display = document.getElementById('display'); // 获取显示器输入框元素
        let currentOperation = null; // 当前的操作符（如 +, -, *, /）
        let firstNumber = null; // 存储输入的第一个数字

        // 函数：向显示器中添加数字
        function appendNumber(number) {
            if(display.value !== null) { let secondNumber = number;}
            display.value += number; // 将数字添加到当前显示的值后面
        }

        // 函数：设置当前的数学操作（加、减、乘、除）
        function setOperation(operation) {
            firstNumber = parseFloat(display.value); // 将显示器中的值存储为第一个数字，并转换为浮点数
            currentOperation = operation; // 设置当前的操作符
            display.value += 'currentOperation'; // 清空显示器，准备输入下一个数字
        }

        // 函数：执行计算并显示结果
        function calculate() {
            if (currentOperation !== null && firstNumber !== null) { // 确保操作符和第一个数字已被设置
                //let secondNumber = parseFloat(display.value); // 将显示器中的值作为第二个数字
                let result; // 用于存储计算结果
                // 根据操作符选择合适的计算
                switch (currentOperation) {
                    case '+':
                        result = firstNumber + secondNumber; // 加法
                        break;
                    case '-':
                        result = firstNumber - secondNumber; // 减法
                        break;
                    case '*':
                        result = firstNumber * secondNumber; // 乘法
                        break;
                    case '/':
                        result = firstNumber / secondNumber; // 除法
                        break;
                }
                display.value = result; // 将计算结果显示在输入框中
                currentOperation = null; // 清空操作符，等待新的计算
                firstNumber = null; // 清空第一个数字
            }
        }

        // 函数：清空显示器和重置状态
        function clearDisplay() {
            display.value = ''; // 清空显示器
            currentOperation = null; // 重置操作符
            firstNumber = null; // 清空第一个数字
        }
    </script>
</body>
</html>

